/*! For license information please see 6432.92aa12aa.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_availity_availity_react=self.webpackChunk_availity_availity_react||[]).push([[6432],{"./node_modules/@availity/resolve-url/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>index_default,vh:()=>is_absolute_url_default});var is_absolute_url_default=url=>{if("string"!=typeof url)throw new TypeError(`Expected a \`string\`, got \`${typeof url}\``);return/^[a-z][a-z\d+.-]*:/.test(url)};function isCharacterAllowedAfterRelativePathSegment(character){return!character||"#"===character||"?"===character||"/"===character}function removeDotSegments(path){const segmentBuffers=[];let i=0;for(;i<path.length;)switch(path[i]){case"/":if("."===path[i+1])if("."===path[i+2]){if(!isCharacterAllowedAfterRelativePathSegment(path[i+3])){segmentBuffers.at(-1).push(path.substr(i)),i=path.length;break}segmentBuffers.pop(),path[i+3]||segmentBuffers.push([]),i+=3}else{if(!isCharacterAllowedAfterRelativePathSegment(path[i+2])){segmentBuffers.at(-1).push(path.substr(i)),i=path.length;break}path[i+2]||segmentBuffers.push([]),i+=2}else segmentBuffers.push([]),i+=1;break;case"#":case"?":0===segmentBuffers.length&&segmentBuffers.push([]),segmentBuffers.at(-1).push(path.substr(i)),i=path.length;break;default:0===segmentBuffers.length&&segmentBuffers.push([]),segmentBuffers.at(-1).push(path[i]),i+=1}return`/${segmentBuffers.map((buffer=>buffer.join(""))).join("/")}`}function removeDotSegmentsOfPath(iri,colonPosition){let searchOffset=colonPosition+1;colonPosition>=0?"/"===iri[colonPosition+1]&&"/"===iri[colonPosition+2]&&(searchOffset=colonPosition+3):"/"===iri[0]&&"/"===iri[1]&&(searchOffset=2);const pathSeparator=iri.indexOf("/",searchOffset);if(pathSeparator<0)return iri;return iri.substr(0,pathSeparator)+removeDotSegments(iri.substr(pathSeparator))}var index_default=({relative="",base})=>{if(is_absolute_url_default(relative))return relative;if(!base){const{origin}=window.location;base=`${origin}/`}return function resolve(relativeIRI,baseIRI=""){const baseFragmentPos=baseIRI.indexOf("#");if(baseFragmentPos>0&&(baseIRI=baseIRI.substr(0,baseFragmentPos)),0===relativeIRI.length)return baseIRI;if(0===relativeIRI.indexOf("?")){const baseQueryPos=baseIRI.indexOf("?");return baseQueryPos>0&&(baseIRI=baseIRI.substr(0,baseQueryPos)),baseIRI+relativeIRI}if(0===relativeIRI.indexOf("#"))return baseIRI+relativeIRI;if(0===baseIRI.length)return removeDotSegmentsOfPath(relativeIRI,relativeIRI.indexOf(":"));const valueColonPos=relativeIRI.indexOf(":");if(valueColonPos>=0)return removeDotSegmentsOfPath(relativeIRI,valueColonPos);const baseColonPos=baseIRI.indexOf(":");if(baseColonPos<0)throw new Error(`Found invalid baseIRI '${baseIRI}' for value '${relativeIRI}'`);const baseIRIScheme=baseIRI.substr(0,baseColonPos+1);if(0===relativeIRI.indexOf("//"))return baseIRIScheme+removeDotSegmentsOfPath(relativeIRI,valueColonPos);let baseSlashAfterColonPos;if(baseIRI.indexOf("//",baseColonPos)!==baseColonPos+1)return baseSlashAfterColonPos=baseIRI.indexOf("/",baseColonPos+1),baseIRI.length>baseColonPos+1?`${baseIRI}/${removeDotSegmentsOfPath(relativeIRI,valueColonPos)}`:baseIRIScheme+removeDotSegmentsOfPath(relativeIRI,valueColonPos);if(baseSlashAfterColonPos=baseIRI.indexOf("/",baseColonPos+3),baseSlashAfterColonPos<0)return baseIRI.length>baseColonPos+3?`${baseIRI}/${removeDotSegmentsOfPath(relativeIRI,valueColonPos)}`:baseIRIScheme+removeDotSegmentsOfPath(relativeIRI,valueColonPos);if(0===relativeIRI.indexOf("/"))return baseIRI.substr(0,baseSlashAfterColonPos)+removeDotSegments(relativeIRI);let baseIRIPath=baseIRI.substr(baseSlashAfterColonPos);const baseIRILastSlashPos=baseIRIPath.lastIndexOf("/");return baseIRILastSlashPos>=0&&baseIRILastSlashPos<baseIRIPath.length-1&&(baseIRIPath=baseIRIPath.substr(0,baseIRILastSlashPos+1),"."===relativeIRI[0]&&"."!==relativeIRI[1]&&"/"!==relativeIRI[1]&&relativeIRI[2]&&(relativeIRI=relativeIRI.substr(1))),relativeIRI=removeDotSegments(relativeIRI=baseIRIPath+relativeIRI),baseIRI.substr(0,baseSlashAfterColonPos)+relativeIRI}(relative,base)}},"./node_modules/@availity/upload-core/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}__webpack_require__.d(__webpack_exports__,{A:()=>index_default});var NoopUrlStorage=function(){return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}((function NoopUrlStorage(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NoopUrlStorage)}),[{key:"listAllUploads",value:function listAllUploads(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function findUploadsByFingerprint(_fingerprint){return Promise.resolve([])}},{key:"removeUpload",value:function removeUpload(_urlStorageKey){return Promise.resolve()}},{key:"addUpload",value:function addUpload(_fingerprint,_upload){return Promise.resolve(null)}}])}();const _hasBuffer="function"==typeof Buffer,_TE=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),b64chs=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),b64tab=(a=>{let tab={};return a.forEach(((c,i)=>tab[c]=i)),tab})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_mkUriSafe=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),src=>src.replace(/=/g,"").replace(/[+\/]/g,(m0=>"+"==m0?"-":"_"))),_tidyB64=s=>s.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=bin=>{let u32,c0,c1,c2,asc="";const pad=bin.length%3;for(let i=0;i<bin.length;){if((c0=bin.charCodeAt(i++))>255||(c1=bin.charCodeAt(i++))>255||(c2=bin.charCodeAt(i++))>255)throw new TypeError("invalid character found");u32=c0<<16|c1<<8|c2,asc+=b64chs[u32>>18&63]+b64chs[u32>>12&63]+b64chs[u32>>6&63]+b64chs[63&u32]}return pad?asc.slice(0,pad-3)+"===".substring(pad):asc},_btoa="function"==typeof btoa?bin=>btoa(bin):_hasBuffer?bin=>Buffer.from(bin,"binary").toString("base64"):btoaPolyfill,_fromUint8Array=_hasBuffer?u8a=>Buffer.from(u8a).toString("base64"):u8a=>{let strs=[];for(let i=0,l=u8a.length;i<l;i+=4096)strs.push(_fromCC.apply(null,u8a.subarray(i,i+4096)));return _btoa(strs.join(""))},cb_utob=c=>{if(c.length<2)return(cc=c.charCodeAt(0))<128?c:cc<2048?_fromCC(192|cc>>>6)+_fromCC(128|63&cc):_fromCC(224|cc>>>12&15)+_fromCC(128|cc>>>6&63)+_fromCC(128|63&cc);var cc=65536+1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320);return _fromCC(240|cc>>>18&7)+_fromCC(128|cc>>>12&63)+_fromCC(128|cc>>>6&63)+_fromCC(128|63&cc)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=u=>u.replace(re_utob,cb_utob),_encode=_hasBuffer?s=>Buffer.from(s,"utf8").toString("base64"):_TE?s=>_fromUint8Array(_TE.encode(s)):s=>_btoa(utob(s)),encode=(src,urlsafe=!1)=>urlsafe?_mkUriSafe(_encode(src)):_encode(src),atobPolyfill=asc=>{if(asc=asc.replace(/\s+/g,""),!b64re.test(asc))throw new TypeError("malformed base64.");asc+="==".slice(2-(3&asc.length));let u24,r1,r2,bin="";for(let i=0;i<asc.length;)u24=b64tab[asc.charAt(i++)]<<18|b64tab[asc.charAt(i++)]<<12|(r1=b64tab[asc.charAt(i++)])<<6|(r2=b64tab[asc.charAt(i++)]),bin+=64===r1?_fromCC(u24>>16&255):64===r2?_fromCC(u24>>16&255,u24>>8&255):_fromCC(u24>>16&255,u24>>8&255,255&u24);return bin},gBase64_encode=encode;var url_parse=__webpack_require__("./node_modules/url-parse/index.js"),url_parse_default=__webpack_require__.n(url_parse);function error_typeof(o){return error_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},error_typeof(o)}function error_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,error_toPropertyKey(descriptor.key),descriptor)}}function error_toPropertyKey(t){var i=function error_toPrimitive(t,r){if("object"!=error_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=error_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==error_typeof(i)?i:i+""}function _callSuper(t,o,e){return o=_getPrototypeOf(o),function _possibleConstructorReturn(self,call){if(call&&("object"===error_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e))}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){try{return-1!==Function.toString.call(fn).indexOf("[native code]")}catch(e){return"function"==typeof fn}}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}const error=function(_Error){function DetailedError(message){var _this,causingErr=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,req=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,res=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(function error_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DetailedError),(_this=_callSuper(this,DetailedError,[message])).originalRequest=req,_this.originalResponse=res,_this.causingError=causingErr,null!=causingErr&&(message+=", caused by ".concat(causingErr.toString())),null!=req){var requestId=req.getHeader("X-Request-ID")||"n/a",method=req.getMethod(),url=req.getURL(),status=res?res.getStatus():"n/a",body=res?res.getBody()||"":"n/a";message+=", originated from request (method: ".concat(method,", url: ").concat(url,", response code: ").concat(status,", response text: ").concat(body,", request id: ").concat(requestId,")")}return _this.message=message,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(DetailedError,_Error),function error_createClass(Constructor,protoProps,staticProps){return protoProps&&error_defineProperties(Constructor.prototype,protoProps),staticProps&&error_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DetailedError)}(_wrapNativeSuper(Error));var isEnabled=!1;function log(msg){isEnabled&&console.log(msg)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==upload_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(upload_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function upload_typeof(o){return upload_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},upload_typeof(o)}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=upload_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function upload_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,upload_toPropertyKey(descriptor.key),descriptor)}}function upload_toPropertyKey(t){var i=function upload_toPrimitive(t,r){if("object"!=upload_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=upload_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==upload_typeof(i)?i:i+""}var PROTOCOL_TUS_V1="tus-v1",PROTOCOL_IETF_DRAFT_03="ietf-draft-03",PROTOCOL_IETF_DRAFT_05="ietf-draft-05",defaultOptions={endpoint:null,uploadUrl:null,metadata:{},metadataForPartialUploads:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:defaultOnShouldRetry,chunkSize:Number.POSITIVE_INFINITY,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null,protocol:PROTOCOL_TUS_V1},BaseUpload=function(){function BaseUpload(file,options){!function upload_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseUpload),"resume"in options&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=options,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=file,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return function upload_createClass(Constructor,protoProps,staticProps){return protoProps&&upload_defineProperties(Constructor.prototype,protoProps),staticProps&&upload_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(BaseUpload,[{key:"findPreviousUploads",value:function findPreviousUploads(){var _this=this;return this.options.fingerprint(this.file,this.options).then((function(fingerprint){return _this._urlStorage.findUploadsByFingerprint(fingerprint)}))}},{key:"resumeFromPreviousUpload",value:function resumeFromPreviousUpload(previousUpload){this.url=previousUpload.uploadUrl||null,this._parallelUploadUrls=previousUpload.parallelUploadUrls||null,this._urlStorageKey=previousUpload.urlStorageKey}},{key:"start",value:function start(){var _this2=this,file=this.file;if(file)if([PROTOCOL_TUS_V1,PROTOCOL_IETF_DRAFT_03,PROTOCOL_IETF_DRAFT_05].includes(this.options.protocol))if(this.options.endpoint||this.options.uploadUrl||this.url){var retryDelays=this.options.retryDelays;if(null==retryDelays||"[object Array]"===Object.prototype.toString.call(retryDelays)){if(this.options.parallelUploads>1)for(var _i=0,_arr=["uploadUrl","uploadSize","uploadLengthDeferred"];_i<_arr.length;_i++){var optionName=_arr[_i];if(this.options[optionName])return void this._emitError(new Error("tus: cannot use the ".concat(optionName," option when parallelUploads is enabled")))}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1)return void this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length)return void this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"))}this.options.fingerprint(file,this.options).then((function(fingerprint){return log(null==fingerprint?"No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.":"Calculated fingerprint: ".concat(fingerprint)),_this2._fingerprint=fingerprint,_this2._source?_this2._source:_this2.options.fileReader.openFile(file,_this2.options.chunkSize)})).then((function(source){if(_this2._source=source,_this2.options.uploadLengthDeferred)_this2._size=null;else if(null!=_this2.options.uploadSize){if(_this2._size=Number(_this2.options.uploadSize),Number.isNaN(_this2._size))return void _this2._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(_this2._size=_this2._source.size,null==_this2._size)return void _this2._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));_this2.options.parallelUploads>1||null!=_this2._parallelUploadUrls?_this2._startParallelUpload():_this2._startSingleUpload()})).catch((function(err){_this2._emitError(err)}))}else this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: unsupported protocol ".concat(this.options.protocol)));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_startParallelUpload",value:function _startParallelUpload(){var _this$options$paralle,_this3=this,totalSize=this._size,totalProgress=0;this._parallelUploads=[];var partCount=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,parts=null!==(_this$options$paralle=this.options.parallelUploadBoundaries)&&void 0!==_this$options$paralle?_this$options$paralle:function splitSizeIntoParts(totalSize,partCount){for(var partSize=Math.floor(totalSize/partCount),parts=[],i=0;i<partCount;i++)parts.push({start:partSize*i,end:partSize*(i+1)});return parts[partCount-1].end=totalSize,parts}(this._source.size,partCount);this._parallelUploadUrls&&parts.forEach((function(part,index){part.uploadUrl=_this3._parallelUploadUrls[index]||null})),this._parallelUploadUrls=new Array(parts.length);var req,uploads=parts.map((function(part,index){var lastPartProgress=0;return _this3._source.slice(part.start,part.end).then((function(_ref){var value=_ref.value;return new Promise((function(resolve,reject){var options=_objectSpread(_objectSpread({},_this3.options),{},{uploadUrl:part.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:_this3.options.metadataForPartialUploads,headers:_objectSpread(_objectSpread({},_this3.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:resolve,onError:reject,onProgress:function onProgress(newPartProgress){totalProgress=totalProgress-lastPartProgress+newPartProgress,lastPartProgress=newPartProgress,_this3._emitProgress(totalProgress,totalSize)},onUploadUrlAvailable:function onUploadUrlAvailable(){_this3._parallelUploadUrls[index]=upload.url,_this3._parallelUploadUrls.filter((function(u){return Boolean(u)})).length===parts.length&&_this3._saveUploadInUrlStorage()}}),upload=new BaseUpload(value,options);upload.start(),_this3._parallelUploads.push(upload)}))}))}));Promise.all(uploads).then((function(){(req=_this3._openRequest("POST",_this3.options.endpoint)).setHeader("Upload-Concat","final;".concat(_this3._parallelUploadUrls.join(" ")));var metadata=encodeMetadata(_this3.options.metadata);return""!==metadata&&req.setHeader("Upload-Metadata",metadata),_this3._sendRequest(req,null)})).then((function(res){if(inStatusCategory(res.getStatus(),200)){var location=res.getHeader("Location");null!=location?(_this3.url=resolveUrl(_this3.options.endpoint,location),log("Created upload at ".concat(_this3.url)),_this3._emitSuccess(res)):_this3._emitHttpError(req,res,"tus: invalid or missing Location header")}else _this3._emitHttpError(req,res,"tus: unexpected response while creating upload")})).catch((function(err){_this3._emitError(err)}))}},{key:"_startSingleUpload",value:function _startSingleUpload(){return this._aborted=!1,null!=this.url?(log("Resuming upload from previous URL: ".concat(this.url)),void this._resumeUpload()):null!=this.options.uploadUrl?(log("Resuming upload from provided URL: ".concat(this.options.uploadUrl)),this.url=this.options.uploadUrl,void this._resumeUpload()):(log("Creating a new upload"),void this._createUpload())}},{key:"abort",value:function abort(shouldTerminate){var _this4=this;if(null!=this._parallelUploads){var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(this._parallelUploads);try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.abort(shouldTerminate)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return null!==this._req&&this._req.abort(),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),shouldTerminate&&null!=this.url?BaseUpload.terminate(this.url,this.options).then((function(){return _this4._removeFromUrlStorage()})):Promise.resolve()}},{key:"_emitHttpError",value:function _emitHttpError(req,res,message,causingErr){this._emitError(new error(message,causingErr,req,res))}},{key:"_emitError",value:function _emitError(err){var _this5=this;if(!this._aborted){if(null!=this.options.retryDelays)if(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),shouldRetry(err,this._retryAttempt,this.options)){var delay=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout((function(){_this5.start()}),delay))}if("function"!=typeof this.options.onError)throw err;this.options.onError(err)}}},{key:"_emitSuccess",value:function _emitSuccess(lastResponse){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess({lastResponse})}},{key:"_emitProgress",value:function _emitProgress(bytesSent,bytesTotal){"function"==typeof this.options.onProgress&&this.options.onProgress(bytesSent,bytesTotal)}},{key:"_emitChunkComplete",value:function _emitChunkComplete(chunkSize,bytesAccepted,bytesTotal){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(chunkSize,bytesAccepted,bytesTotal)}},{key:"_createUpload",value:function _createUpload(){var _this6=this;if(this.options.endpoint){var req=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?req.setHeader("Upload-Defer-Length","1"):req.setHeader("Upload-Length","".concat(this._size));var promise,metadata=encodeMetadata(this.options.metadata);""!==metadata&&req.setHeader("Upload-Metadata",metadata),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,promise=this._addChunkToRequest(req)):(this.options.protocol!==PROTOCOL_IETF_DRAFT_03&&this.options.protocol!==PROTOCOL_IETF_DRAFT_05||req.setHeader("Upload-Complete","?0"),promise=this._sendRequest(req,null)),promise.then((function(res){if(inStatusCategory(res.getStatus(),200)){var location=res.getHeader("Location");if(null!=location){if(_this6.url=resolveUrl(_this6.options.endpoint,location),log("Created upload at ".concat(_this6.url)),"function"==typeof _this6.options.onUploadUrlAvailable&&_this6.options.onUploadUrlAvailable(),0===_this6._size)return _this6._emitSuccess(res),void _this6._source.close();_this6._saveUploadInUrlStorage().then((function(){_this6.options.uploadDataDuringCreation?_this6._handleUploadResponse(req,res):(_this6._offset=0,_this6._performUpload())}))}else _this6._emitHttpError(req,res,"tus: invalid or missing Location header")}else _this6._emitHttpError(req,res,"tus: unexpected response while creating upload")})).catch((function(err){_this6._emitHttpError(req,null,"tus: failed to create upload",err)}))}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function _resumeUpload(){var _this7=this,req=this._openRequest("HEAD",this.url);this._sendRequest(req,null).then((function(res){var status=res.getStatus();if(!inStatusCategory(status,200))return 423===status?void _this7._emitHttpError(req,res,"tus: upload is currently locked; retry later"):(inStatusCategory(status,400)&&_this7._removeFromUrlStorage(),_this7.options.endpoint?(_this7.url=null,void _this7._createUpload()):void _this7._emitHttpError(req,res,"tus: unable to resume upload (new upload cannot be created without an endpoint)"));var offset=Number.parseInt(res.getHeader("Upload-Offset"),10);if(Number.isNaN(offset))_this7._emitHttpError(req,res,"tus: invalid or missing offset value");else{var length=Number.parseInt(res.getHeader("Upload-Length"),10);!Number.isNaN(length)||_this7.options.uploadLengthDeferred||_this7.options.protocol!==PROTOCOL_TUS_V1?("function"==typeof _this7.options.onUploadUrlAvailable&&_this7.options.onUploadUrlAvailable(),_this7._saveUploadInUrlStorage().then((function(){if(offset===length)return _this7._emitProgress(length,length),void _this7._emitSuccess(res);_this7._offset=offset,_this7._performUpload()}))):_this7._emitHttpError(req,res,"tus: invalid or missing length value")}})).catch((function(err){_this7._emitHttpError(req,null,"tus: failed to resume upload",err)}))}},{key:"_performUpload",value:function _performUpload(){var req,_this8=this;this._aborted||(this.options.overridePatchMethod?(req=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):req=this._openRequest("PATCH",this.url),req.setHeader("Upload-Offset","".concat(this._offset)),this._addChunkToRequest(req).then((function(res){inStatusCategory(res.getStatus(),200)?_this8._handleUploadResponse(req,res):_this8._emitHttpError(req,res,"tus: unexpected response while uploading chunk")})).catch((function(err){_this8._aborted||_this8._emitHttpError(req,null,"tus: failed to upload chunk at offset ".concat(_this8._offset),err)})))}},{key:"_addChunkToRequest",value:function _addChunkToRequest(req){var _this9=this,start=this._offset,end=this._offset+this.options.chunkSize;return req.setProgressHandler((function(bytesSent){_this9._emitProgress(start+bytesSent,_this9._size)})),this.options.protocol===PROTOCOL_TUS_V1?req.setHeader("Content-Type","application/offset+octet-stream"):this.options.protocol===PROTOCOL_IETF_DRAFT_05&&req.setHeader("Content-Type","application/partial-upload"),(end===Number.POSITIVE_INFINITY||end>this._size)&&!this.options.uploadLengthDeferred&&(end=this._size),this._source.slice(start,end).then((function(_ref2){var value=_ref2.value,done=_ref2.done,valueSize=null!=value&&value.size?value.size:0;_this9.options.uploadLengthDeferred&&done&&(_this9._size=_this9._offset+valueSize,req.setHeader("Upload-Length","".concat(_this9._size)));var newSize=_this9._offset+valueSize;return!_this9.options.uploadLengthDeferred&&done&&newSize!==_this9._size?Promise.reject(new Error("upload was configured with a size of ".concat(_this9._size," bytes, but the source is done after ").concat(newSize," bytes"))):null===value?_this9._sendRequest(req):(_this9.options.protocol!==PROTOCOL_IETF_DRAFT_03&&_this9.options.protocol!==PROTOCOL_IETF_DRAFT_05||req.setHeader("Upload-Complete",done?"?1":"?0"),_this9._emitProgress(_this9._offset,_this9._size),_this9._sendRequest(req,value))}))}},{key:"_handleUploadResponse",value:function _handleUploadResponse(req,res){var offset=Number.parseInt(res.getHeader("Upload-Offset"),10);if(Number.isNaN(offset))this._emitHttpError(req,res,"tus: invalid or missing offset value");else{if(this._emitProgress(offset,this._size),this._emitChunkComplete(offset-this._offset,offset,this._size),this._offset=offset,offset===this._size)return this._emitSuccess(res),void this._source.close();this._performUpload()}}},{key:"_openRequest",value:function _openRequest(method,url){var req=openRequest(method,url,this.options);return this._req=req,req}},{key:"_removeFromUrlStorage",value:function _removeFromUrlStorage(){var _this10=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch((function(err){_this10._emitError(err)})),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function _saveUploadInUrlStorage(){var _this11=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||null!==this._urlStorageKey)return Promise.resolve();var storedUpload={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};return this._parallelUploads?storedUpload.parallelUploadUrls=this._parallelUploadUrls:storedUpload.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,storedUpload).then((function(urlStorageKey){_this11._urlStorageKey=urlStorageKey}))}},{key:"_sendRequest",value:function _sendRequest(req){return sendRequest(req,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.options)}}],[{key:"terminate",value:function terminate(url){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},req=openRequest("DELETE",url,options);return sendRequest(req,null,options).then((function(res){if(204!==res.getStatus())throw new error("tus: unexpected response while terminating upload",null,req,res)})).catch((function(err){if(err instanceof error||(err=new error("tus: failed to terminate upload",err,req,null)),!shouldRetry(err,0,options))throw err;var delay=options.retryDelays[0],remainingDelays=options.retryDelays.slice(1),newOptions=_objectSpread(_objectSpread({},options),{},{retryDelays:remainingDelays});return new Promise((function(resolve){return setTimeout(resolve,delay)})).then((function(){return BaseUpload.terminate(url,newOptions)}))}))}}])}();function encodeMetadata(metadata){return Object.entries(metadata).map((function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return"".concat(key," ").concat(gBase64_encode(String(value)))})).join(",")}function inStatusCategory(status,category){return status>=category&&status<category+100}function openRequest(method,url,options){var req=options.httpStack.createRequest(method,url);options.protocol===PROTOCOL_IETF_DRAFT_03?req.setHeader("Upload-Draft-Interop-Version","5"):options.protocol===PROTOCOL_IETF_DRAFT_05?req.setHeader("Upload-Draft-Interop-Version","6"):req.setHeader("Tus-Resumable","1.0.0");for(var headers=options.headers||{},_i2=0,_Object$entries=Object.entries(headers);_i2<_Object$entries.length;_i2++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i2],2),name=_Object$entries$_i[0],value=_Object$entries$_i[1];req.setHeader(name,value)}if(options.addRequestId){var requestId=function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}();req.setHeader("X-Request-ID",requestId)}return req}function sendRequest(_x,_x2,_x3){return _sendRequest2.apply(this,arguments)}function _sendRequest2(){return _sendRequest2=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(req,body,options){var res;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if("function"!=typeof options.onBeforeRequest){_context.next=3;break}return _context.next=3,options.onBeforeRequest(req);case 3:return _context.next=5,req.send(body);case 5:if(res=_context.sent,"function"!=typeof options.onAfterResponse){_context.next=9;break}return _context.next=9,options.onAfterResponse(req,res);case 9:return _context.abrupt("return",res);case 10:case"end":return _context.stop()}}),_callee)}))),_sendRequest2.apply(this,arguments)}function shouldRetry(err,retryAttempt,options){return!(null==options.retryDelays||retryAttempt>=options.retryDelays.length||null==err.originalRequest)&&(options&&"function"==typeof options.onShouldRetry?options.onShouldRetry(err,retryAttempt,options):defaultOnShouldRetry(err))}function defaultOnShouldRetry(err){var status=err.originalResponse?err.originalResponse.getStatus():0;return(!inStatusCategory(status,400)||409===status||423===status)&&function isOnline(){var online=!0;return"undefined"!=typeof navigator&&!1===navigator.onLine&&(online=!1),online}()}function resolveUrl(origin,link){return new(url_parse_default())(link,origin).toString()}BaseUpload.defaultOptions=defaultOptions;const upload=BaseUpload;const browser_isReactNative=function isReactNative(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};function uriToBlob(uri){return new Promise((function(resolve,reject){var xhr=new XMLHttpRequest;xhr.responseType="blob",xhr.onload=function(){var blob=xhr.response;resolve(blob)},xhr.onerror=function(err){reject(err)},xhr.open("GET",uri),xhr.send()}))}const sources_isCordova=function isCordova(){return"undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)};function FileSource_typeof(o){return FileSource_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},FileSource_typeof(o)}function FileSource_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,FileSource_toPropertyKey(descriptor.key),descriptor)}}function FileSource_toPropertyKey(t){var i=function FileSource_toPrimitive(t,r){if("object"!=FileSource_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=FileSource_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==FileSource_typeof(i)?i:i+""}var FileSource=function(){return function FileSource_createClass(Constructor,protoProps,staticProps){return protoProps&&FileSource_defineProperties(Constructor.prototype,protoProps),staticProps&&FileSource_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}((function FileSource(file){!function FileSource_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FileSource),this._file=file,this.size=file.size}),[{key:"slice",value:function slice(start,end){if(sources_isCordova())return function readAsByteArray(chunk){return new Promise((function(resolve,reject){var reader=new FileReader;reader.onload=function(){var value=new Uint8Array(reader.result);resolve({value})},reader.onerror=function(err){reject(err)},reader.readAsArrayBuffer(chunk)}))}(this._file.slice(start,end));var value=this._file.slice(start,end),done=end>=this.size;return Promise.resolve({value,done})}},{key:"close",value:function close(){}}])}();function StreamSource_typeof(o){return StreamSource_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},StreamSource_typeof(o)}function StreamSource_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,StreamSource_toPropertyKey(descriptor.key),descriptor)}}function StreamSource_toPropertyKey(t){var i=function StreamSource_toPrimitive(t,r){if("object"!=StreamSource_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=StreamSource_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==StreamSource_typeof(i)?i:i+""}function len(blobOrArray){return void 0===blobOrArray?0:void 0!==blobOrArray.size?blobOrArray.size:blobOrArray.length}var StreamSource=function(){return function StreamSource_createClass(Constructor,protoProps,staticProps){return protoProps&&StreamSource_defineProperties(Constructor.prototype,protoProps),staticProps&&StreamSource_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}((function StreamSource(reader){!function StreamSource_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StreamSource),this._buffer=void 0,this._bufferOffset=0,this._reader=reader,this._done=!1}),[{key:"slice",value:function slice(start,end){return start<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(start,end)}},{key:"_readUntilEnoughDataOrDone",value:function _readUntilEnoughDataOrDone(start,end){var _this=this,hasEnoughData=end<=this._bufferOffset+len(this._buffer);if(this._done||hasEnoughData){var value=this._getDataFromBuffer(start,end),done=null==value&&this._done;return Promise.resolve({value,done})}return this._reader.read().then((function(_ref){var value=_ref.value;return _ref.done?_this._done=!0:void 0===_this._buffer?_this._buffer=value:_this._buffer=function concat(a,b){if(a.concat)return a.concat(b);if(a instanceof Blob)return new Blob([a,b],{type:a.type});if(a.set){var c=new a.constructor(a.length+b.length);return c.set(a),c.set(b,a.length),c}throw new Error("Unknown data type")}(_this._buffer,value),_this._readUntilEnoughDataOrDone(start,end)}))}},{key:"_getDataFromBuffer",value:function _getDataFromBuffer(start,end){start>this._bufferOffset&&(this._buffer=this._buffer.slice(start-this._bufferOffset),this._bufferOffset=start);var hasAllDataBeenRead=0===len(this._buffer);return this._done&&hasAllDataBeenRead?null:this._buffer.slice(0,end-start)}},{key:"close",value:function close(){this._reader.cancel&&this._reader.cancel()}}])}();function fileReader_typeof(o){return fileReader_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},fileReader_typeof(o)}function fileReader_regeneratorRuntime(){fileReader_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==fileReader_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(fileReader_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function fileReader_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function fileReader_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,fileReader_toPropertyKey(descriptor.key),descriptor)}}function fileReader_toPropertyKey(t){var i=function fileReader_toPrimitive(t,r){if("object"!=fileReader_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=fileReader_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==fileReader_typeof(i)?i:i+""}var fileReader_FileReader=function(){return function fileReader_createClass(Constructor,protoProps,staticProps){return protoProps&&fileReader_defineProperties(Constructor.prototype,protoProps),staticProps&&fileReader_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}((function FileReader(){!function fileReader_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FileReader)}),[{key:"openFile",value:(_openFile=function fileReader_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){fileReader_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){fileReader_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(fileReader_regeneratorRuntime().mark((function _callee(input,chunkSize){var blob;return fileReader_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!browser_isReactNative()||!input||void 0===input.uri){_context.next=11;break}return _context.prev=1,_context.next=4,uriToBlob(input.uri);case 4:return blob=_context.sent,_context.abrupt("return",new FileSource(blob));case 8:throw _context.prev=8,_context.t0=_context.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(_context.t0));case 11:if("function"!=typeof input.slice||void 0===input.size){_context.next=13;break}return _context.abrupt("return",Promise.resolve(new FileSource(input)));case 13:if("function"!=typeof input.read){_context.next=18;break}if(chunkSize=Number(chunkSize),Number.isFinite(chunkSize)){_context.next=17;break}return _context.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return _context.abrupt("return",Promise.resolve(new StreamSource(input,chunkSize)));case 18:return _context.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return _context.stop()}}),_callee,null,[[1,8]])}))),function openFile(_x,_x2){return _openFile.apply(this,arguments)})}]);var _openFile}();function httpStack_typeof(o){return httpStack_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},httpStack_typeof(o)}function httpStack_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function httpStack_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,httpStack_toPropertyKey(descriptor.key),descriptor)}}function httpStack_createClass(Constructor,protoProps,staticProps){return protoProps&&httpStack_defineProperties(Constructor.prototype,protoProps),staticProps&&httpStack_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function httpStack_toPropertyKey(t){var i=function httpStack_toPrimitive(t,r){if("object"!=httpStack_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=httpStack_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==httpStack_typeof(i)?i:i+""}var XHRHttpStack=function(){return httpStack_createClass((function XHRHttpStack(){httpStack_classCallCheck(this,XHRHttpStack)}),[{key:"createRequest",value:function createRequest(method,url){return new Request(method,url)}},{key:"getName",value:function getName(){return"XHRHttpStack"}}])}(),Request=function(){return httpStack_createClass((function Request(method,url){httpStack_classCallCheck(this,Request),this._xhr=new XMLHttpRequest,this._xhr.open(method,url,!0),this._method=method,this._url=url,this._headers={}}),[{key:"getMethod",value:function getMethod(){return this._method}},{key:"getURL",value:function getURL(){return this._url}},{key:"setHeader",value:function setHeader(header,value){this._xhr.setRequestHeader(header,value),this._headers[header]=value}},{key:"getHeader",value:function getHeader(header){return this._headers[header]}},{key:"setProgressHandler",value:function setProgressHandler(progressHandler){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(e){e.lengthComputable&&progressHandler(e.loaded)})}},{key:"send",value:function send(){var _this=this,body=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(resolve,reject){_this._xhr.onload=function(){resolve(new Response(_this._xhr))},_this._xhr.onerror=function(err){reject(err)},_this._xhr.send(body)}))}},{key:"abort",value:function abort(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function getUnderlyingObject(){return this._xhr}}])}(),Response=function(){return httpStack_createClass((function Response(xhr){httpStack_classCallCheck(this,Response),this._xhr=xhr}),[{key:"getStatus",value:function getStatus(){return this._xhr.status}},{key:"getHeader",value:function getHeader(header){return this._xhr.getResponseHeader(header)}},{key:"getBody",value:function getBody(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function getUnderlyingObject(){return this._xhr}}])}();function urlStorage_typeof(o){return urlStorage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},urlStorage_typeof(o)}function urlStorage_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,urlStorage_toPropertyKey(descriptor.key),descriptor)}}function urlStorage_toPropertyKey(t){var i=function urlStorage_toPrimitive(t,r){if("object"!=urlStorage_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=urlStorage_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==urlStorage_typeof(i)?i:i+""}var hasStorage=!1;try{hasStorage="localStorage"in window;var key="tusSupport",originalValue=localStorage.getItem(key);localStorage.setItem(key,originalValue),null===originalValue&&localStorage.removeItem(key)}catch(e){if(e.code!==e.SECURITY_ERR&&e.code!==e.QUOTA_EXCEEDED_ERR)throw e;hasStorage=!1}var canStoreURLs=hasStorage,WebStorageUrlStorage=function(){return function urlStorage_createClass(Constructor,protoProps,staticProps){return protoProps&&urlStorage_defineProperties(Constructor.prototype,protoProps),staticProps&&urlStorage_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}((function WebStorageUrlStorage(){!function urlStorage_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WebStorageUrlStorage)}),[{key:"findAllUploads",value:function findAllUploads(){var results=this._findEntries("tus::");return Promise.resolve(results)}},{key:"findUploadsByFingerprint",value:function findUploadsByFingerprint(fingerprint){var results=this._findEntries("tus::".concat(fingerprint,"::"));return Promise.resolve(results)}},{key:"removeUpload",value:function removeUpload(urlStorageKey){return localStorage.removeItem(urlStorageKey),Promise.resolve()}},{key:"addUpload",value:function addUpload(fingerprint,upload){var id=Math.round(1e12*Math.random()),key="tus::".concat(fingerprint,"::").concat(id);return localStorage.setItem(key,JSON.stringify(upload)),Promise.resolve(key)}},{key:"_findEntries",value:function _findEntries(prefix){for(var results=[],i=0;i<localStorage.length;i++){var _key=localStorage.key(i);if(0===_key.indexOf(prefix))try{var upload=JSON.parse(localStorage.getItem(_key));upload.urlStorageKey=_key,results.push(upload)}catch(_e){}}return results}}])}();function browser_typeof(o){return browser_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},browser_typeof(o)}function browser_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,browser_toPropertyKey(descriptor.key),descriptor)}}function browser_callSuper(t,o,e){return o=browser_getPrototypeOf(o),function browser_possibleConstructorReturn(self,call){if(call&&("object"===browser_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function browser_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(t,browser_isNativeReflectConstruct()?Reflect.construct(o,e||[],browser_getPrototypeOf(t).constructor):o.apply(t,e))}function browser_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(browser_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function browser_getPrototypeOf(o){return browser_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},browser_getPrototypeOf(o)}function browser_setPrototypeOf(o,p){return browser_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},browser_setPrototypeOf(o,p)}function browser_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function browser_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?browser_ownKeys(Object(t),!0).forEach((function(r){browser_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):browser_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function browser_defineProperty(obj,key,value){return(key=browser_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function browser_toPropertyKey(t){var i=function browser_toPrimitive(t,r){if("object"!=browser_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=browser_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==browser_typeof(i)?i:i+""}var browser_defaultOptions=browser_objectSpread(browser_objectSpread({},upload.defaultOptions),{},{httpStack:new XHRHttpStack,fileReader:new fileReader_FileReader,urlStorage:canStoreURLs?new WebStorageUrlStorage:new NoopUrlStorage,fingerprint:function fingerprint(file,options){return browser_isReactNative()?Promise.resolve(function reactNativeFingerprint(file,options){var exifHash=file.exif?function hashCode(str){var hash=0;if(0===str.length)return hash;for(var i=0;i<str.length;i++){hash=(hash<<5)-hash+str.charCodeAt(i),hash&=hash}return hash}(JSON.stringify(file.exif)):"noexif";return["tus-rn",file.name||"noname",file.size||"nosize",exifHash,options.endpoint].join("/")}(file,options)):Promise.resolve(["tus-br",file.name,file.type,file.size,file.lastModified,options.endpoint].join("-"))}}),Upload=function(_BaseUpload){function Upload(){var file=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function browser_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Upload),browser_callSuper(this,Upload,[file,options=browser_objectSpread(browser_objectSpread({},browser_defaultOptions),options)])}return function browser_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&browser_setPrototypeOf(subClass,superClass)}(Upload,_BaseUpload),function browser_createClass(Constructor,protoProps,staticProps){return protoProps&&browser_defineProperties(Constructor.prototype,protoProps),staticProps&&browser_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Upload,null,[{key:"terminate",value:function terminate(url){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return options=browser_objectSpread(browser_objectSpread({},browser_defaultOptions),options),upload.terminate(url,options)}}])}(upload),dist=("function"==typeof XMLHttpRequest&&"function"==typeof Blob&&Blob.prototype.slice,__webpack_require__("./node_modules/@availity/resolve-url/dist/index.mjs")),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__async=(__this,__arguments,generator)=>new Promise(((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})),dist_Response=class{constructor(response){this._body="",this._response=response}getStatus(){return this._response.status}getHeader(header){return this._response.headers.get(header)||void 0}getBody(){return this._body}parseBody(){return __async(this,null,(function*(){this._body=yield this._response.text()}))}getUnderlyingObject(){return this._response}},dist_Request=class{constructor(method,url){this._method=method,this._url=url,this._headers={},this._abortController=new AbortController}getMethod(){return this._method}getURL(){return this._url}setHeader(header,value){this._headers[header]=value}getHeader(header){return this._headers[header]}setProgressHandler(progressHandler){this._progressHandler=progressHandler}send(body=null){return __async(this,null,(function*(){var _a;try{const response=yield fetch(this._url,{method:this._method,headers:this._headers,body,signal:this._abortController.signal,credentials:"include"});if(this._progressHandler){const reader=null==(_a=response.clone().body)?void 0:_a.getReader();if(reader){let done,value,loaded=0;for(;!done&&(({value,done}=yield reader.read()),!done);)loaded+=(null==value?void 0:value.length)||0,this._progressHandler(loaded)}}const _response=new dist_Response(response.clone());return _response.parseBody(),_response}catch(error){if("AbortError"===error.name)throw new Error("Request aborted");throw error}}))}abort(){return this._abortController.abort(),Promise.resolve()}getUnderlyingObject(){return this._abortController}},FetchHttpStack=class{createRequest(method,url){return new dist_Request(method,url)}getName(){return"FetchHttpStack"}},createFingerprint=(file,options,callback)=>new Promise((resolve=>{const{metadata={},endpoint}=options,values=Object.values(metadata),attributes=[file.name,file.type,file.size,file.lastModified],signature=[attributes.toString().replaceAll(",",""),endpoint,values].join(""),hash=Math.abs((str=>{let hash=0;if(0===str.length)return hash;for(let i=0;i<str.length;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash|=0;return hash})(signature)),fingerprint=["tus",...attributes,hash].filter((value=>null!=value&&value)).join("-");resolve(callback?callback(null,fingerprint):fingerprint)})),dist_defaultOptions={endpoint:"/ms/api/availity/internal/core/vault/upload/v1/resumable",chunkSize:6e6,removeFingerprintOnSuccess:!0,pollingTime:5e3,retryDelays:[0,1e3,3e3,5e3],stripFileNamePathSegments:!0,onPreStart:[],maxAvScanRetries:10,fingerprint:createFingerprint},index_default=class{constructor(file,options){if(!file)throw new Error("[file] must be defined and of type File");if(!options||!options.bucketId)throw new Error("[options.bucketId] must be defined");if(!options.customerId)throw new Error("[options.customerId] must be defined");if(!options.clientId)throw new Error("[options.clientId] must be defined");this.file=file,this.options=__spreadValues(__spreadValues({},dist_defaultOptions),options),this.options.endpoint=(0,dist.Ay)({relative:this.options.endpoint}),this.avScanRetries=0,this.bytesAccepted=0,this.bytesScanned=0,this.bytesSent=0,this.bytesTotal=0,this.chunkSize=0,this.error=null,this.errorMessage="",this.id="",this.onError=[],this.onPreStart=this.options.onPreStart||[],this.onProgress=[],this.onSuccess=[],this.onChunkComplete=[],this.percentage=0,this.preStartValidationResults=[],this.references=[],this.s3References=[],this.status="pending",this.timeoutId=void 0,this.waitForPassword=!0;const metadata={"availity-filename":this.trimFileName(file.name),"availity-content-type":file.type,"availity-attachment-name":"N/A"};Object.assign(metadata,this.options.metadata);const upload=new Upload(this.file,{endpoint:`${this.options.endpoint}/${this.options.bucketId}/`,chunkSize:this.options.chunkSize,retryDelays:this.options.retryDelays,removeFingerprintOnSuccess:this.options.removeFingerprintOnSuccess,fingerprint:this.options.fingerprint,metadata,headers:(a=__spreadValues({},this.options.headers),b={"X-XSRF-TOKEN":this.getToken(),"X-Availity-Customer-ID":this.options.customerId,"X-Client-ID":this.options.clientId},__defProps(a,__getOwnPropDescs(b))),httpStack:new FetchHttpStack,onError:error=>{this.setError("rejected","Network Error",error),this.error=error},onProgress:(bytesSent,bytesTotal)=>{this.bytesSent=bytesSent,this.bytesTotal=bytesTotal,this.percentage=this.getPercentage();for(const handleOnProgress of this.onProgress)handleOnProgress()},onChunkComplete:(chunkSize,bytesAccepted,bytesTotal)=>{this.chunkSize=chunkSize,this.bytesAccepted=bytesAccepted,this.bytesTotal=bytesTotal;for(const handleOnChunkComplete of this.onChunkComplete)handleOnChunkComplete(chunkSize,bytesAccepted,bytesTotal)},onSuccess:response=>{this.bytesScanned=Number.parseInt(response.lastResponse.getHeader("AV-Scan-Bytes")||"0",10),this.percentage=this.getPercentage();const result=this.getResult(response.lastResponse);if("accepted"!==result.status)"rejected"!==result.status?this.scan():this.setError(result.status,result.message);else{this.percentage=100,this.status=result.status,this.errorMessage="",this.error=null;const references=response.lastResponse.getHeader("references"),s3References=response.lastResponse.getHeader("s3-references");references&&(this.references=JSON.parse(references)),s3References&&(this.s3References=JSON.parse(s3References));for(const handleOnSuccess of this.onSuccess)handleOnSuccess(response)}}});var a,b;this.upload=upload}inStatusCategory(status,category){return status>=category&&status<category+100}scan(data){return __async(this,null,(function*(){clearTimeout(this.timeoutId);try{const request=(new FetchHttpStack).createRequest("HEAD",this.upload.url||this.options.endpoint),headers={"Tus-Resumable":"1.0.0","X-Client-ID":this.options.clientId,"X-Availity-Customer-ID":this.options.customerId,"X-XSRF-TOKEN":this.getToken()};data&&(headers[data.header]=data.value);for(const[key,value]of Object.entries(headers))request.setHeader(key,value);const response=yield request.send();if(!this.inStatusCategory(response.getStatus(),200))return void this.setError("rejected",`Invalid status returned: ${response.getStatus()}`);this.bytesScanned=Number.parseInt(response.getHeader("AV-Scan-Bytes")||"0",10),this.percentage=this.getPercentage();const result=this.getResult(response);if("rejected"===result.status)return void this.setError(result.status,result.message);if("encrypted"===result.status&&this.waitForPassword)return this.setError(result.status,result.message),void clearTimeout(this.timeoutId);if("accepted"===result.status){this.percentage=100,this.status=result.status,this.errorMessage="",this.error=null;const references=response.getHeader("references"),s3References=response.getHeader("s3-references");references&&(this.references=JSON.parse(references)),s3References&&(this.s3References=JSON.parse(s3References));for(const handleOnSuccess of this.onSuccess)handleOnSuccess({lastResponse:response});return}"decrypting"===result.status&&this.setError(result.status,result.message);for(const handleOnProgress of this.onProgress)handleOnProgress()}catch(error){this.setError("rejected","Network Error",error),this.error=error}this.avScanRetries>this.options.maxAvScanRetries?this.setError("rejected","AV scan timed out, max retries exceeded"):this.timeoutId=setTimeout((()=>{this.avScanRetries+=1,this.scan()}),this.options.pollingTime)}))}getPercentage(){if(!this.bytesTotal)return 0;return(this.bytesSent+this.bytesScanned)/(2*this.bytesTotal)*100}getToken(){return document.cookie.replace(/(?:(?:^|.*;\s*)XSRF-TOKEN\s*=\s*([^;]*).*$)|^.*$/,"$1")}start(){if(this.isValidFile())if(this.id){for(const handleOnPreStart of this.onPreStart)this.preStartValidationResults.push(handleOnPreStart(this));this.preStartValidationResults.some((result=>!result))?"pending"===this.status&&this.setError("rejected","preStart validation failed"):this.upload.start()}else this.setError("rejected","No id set. Call `generateId` or set one manually with `setId` before calling `start`.")}setId(id){this.id=id}generateId(){return __async(this,null,(function*(){const{fingerprint}=this.options,id=yield fingerprint(this.file,this.options);return this.setId(id.replaceAll(/[^\dA-Za-z-]/g,"")),this.id}))}fingerprint(file,options,callback){return __async(this,null,(function*(){return createFingerprint(file,options,callback)}))}sendPassword(pw){this.waitForPassword=!1,this.scan({header:"Encryption-Password",value:pw})}isValidSize(){return!(this.options.maxSize&&this.file.size>this.options.maxSize)||(this.setError("rejected","Document is too large"),!1)}isAllowedFileTypes(){if(!this.options.fileTypes||0===this.options.fileTypes.length)return!0;if(!this.file.name)return!1;const fileName=this.file.name,fileExt=fileName.substring(fileName.lastIndexOf(".")).toLowerCase();return this.options.fileTypes=this.options.fileTypes.map((type=>type.toLowerCase())),!!this.options.fileTypes.includes(fileExt)||(this.setError("rejected",`Document type ${fileExt} is not allowed`),!1)}isAllowedFileNameCharacters(){if(!this.options.allowedFileNameCharacters)return!0;const fileName=this.file.name.substring(0,this.file.name.lastIndexOf(".")),regExp=new RegExp(`([^${this.options.allowedFileNameCharacters}])`,"g");return null===fileName.match(regExp)||(this.setError("rejected","File name contains characters not allowed"),!1)}isValidFile(){return this.isAllowedFileNameCharacters()&&this.isAllowedFileTypes()&&this.isValidSize()}trimFileName(fileName){return this.options.stripFileNamePathSegments&&(fileName=(fileName=fileName.substring(fileName.lastIndexOf("\\")+1)).substring(fileName.lastIndexOf("/")+1)),fileName}getResult(response){const scanResult=response.getHeader("av-scan-result"),uploadResult=response.getHeader("upload-result"),decryptResult=response.getHeader("decryption-result"),msg=response.getHeader("upload-message");return"rejected"===scanResult?{status:scanResult,message:msg||"Failed AV scan"}:"rejected"===uploadResult?(this.waitForPassword=!0,"rejected"===decryptResult?{status:uploadResult,message:msg||"Maximum password attempts reached"}:{status:uploadResult,message:msg||"File upload rejected"}):"encrypted"===uploadResult?this.waitForPassword||null!==decryptResult&&"pending"!==decryptResult?"rejected"===decryptResult?(this.waitForPassword=!0,{status:uploadResult,message:msg||"Incorrect password"}):{status:uploadResult,message:msg||"Encrypted files require a password"}:{status:"decrypting",message:msg||"Decrypting file"}:"accepted"===scanResult&&"accepted"===uploadResult?{status:"accepted",message:msg||""}:{status:"pending",message:msg||""}}setError(status,message,error){this.status=status;try{this.parseErrorMessage(message,error)}catch(e){}for(const handleOnError of this.onError)handleOnError(error||new Error(this.errorMessage))}parseErrorMessage(message,error){if(error){let msg="";if((error=>void 0!==error.originalResponse)(error)&&(msg=error.originalRequest.getHeader("Upload-Message")||""),msg||(msg=error.message),msg)return void(this.errorMessage=msg)}this.errorMessage=message}abort(){this.upload&&this.upload.abort()}}},"./node_modules/lodash/_baseTrim.js":(module,__unused_webpack_exports,__webpack_require__)=>{var trimmedEndIndex=__webpack_require__("./node_modules/lodash/_trimmedEndIndex.js"),reTrimStart=/^\s+/;module.exports=function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},"./node_modules/lodash/_trimmedEndIndex.js":module=>{var reWhitespace=/\s/;module.exports=function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},"./node_modules/lodash/toNumber.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseTrim=__webpack_require__("./node_modules/lodash/_baseTrim.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js"),reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},"./node_modules/querystringify/index.js":(__unused_webpack_module,exports)=>{"use strict";var has=Object.prototype.hasOwnProperty;function decode(input){try{return decodeURIComponent(input.replace(/\+/g," "))}catch(e){return null}}function encode(input){try{return encodeURIComponent(input)}catch(e){return null}}exports.stringify=function querystringify(obj,prefix){prefix=prefix||"";var value,key,pairs=[];for(key in"string"!=typeof prefix&&(prefix="?"),obj)if(has.call(obj,key)){if((value=obj[key])||null!=value&&!isNaN(value)||(value=""),key=encode(key),value=encode(value),null===key||null===value)continue;pairs.push(key+"="+value)}return pairs.length?prefix+pairs.join("&"):""},exports.parse=function querystring(query){for(var part,parser=/([^=?#&]+)=?([^&]*)/g,result={};part=parser.exec(query);){var key=decode(part[1]),value=decode(part[2]);null===key||null===value||key in result||(result[key]=value)}return result}},"./node_modules/requires-port/index.js":module=>{"use strict";module.exports=function required(port,protocol){if(protocol=protocol.split(":")[0],!(port=+port))return!1;switch(protocol){case"http":case"ws":return 80!==port;case"https":case"wss":return 443!==port;case"ftp":return 21!==port;case"gopher":return 70!==port;case"file":return!1}return 0!==port}},"./node_modules/url-parse/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var required=__webpack_require__("./node_modules/requires-port/index.js"),qs=__webpack_require__("./node_modules/querystringify/index.js"),controlOrWhitespace=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,CRHTLF=/[\n\r\t]/g,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,port=/:\d+$/,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,windowsDriveLetter=/^[a-zA-Z]:/;function trimLeft(str){return(str||"").toString().replace(controlOrWhitespace,"")}var rules=[["#","hash"],["?","query"],function sanitize(address,url){return isSpecial(url.protocol)?address.replace(/\\/g,"/"):address},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(loc){var key,location=("undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{}).location||{},finaldestination={},type=typeof(loc=loc||location);if("blob:"===loc.protocol)finaldestination=new Url(unescape(loc.pathname),{});else if("string"===type)for(key in finaldestination=new Url(loc,{}),ignore)delete finaldestination[key];else if("object"===type){for(key in loc)key in ignore||(finaldestination[key]=loc[key]);void 0===finaldestination.slashes&&(finaldestination.slashes=slashes.test(loc.href))}return finaldestination}function isSpecial(scheme){return"file:"===scheme||"ftp:"===scheme||"http:"===scheme||"https:"===scheme||"ws:"===scheme||"wss:"===scheme}function extractProtocol(address,location){address=(address=trimLeft(address)).replace(CRHTLF,""),location=location||{};var rest,match=protocolre.exec(address),protocol=match[1]?match[1].toLowerCase():"",forwardSlashes=!!match[2],otherSlashes=!!match[3],slashesCount=0;return forwardSlashes?otherSlashes?(rest=match[2]+match[3]+match[4],slashesCount=match[2].length+match[3].length):(rest=match[2]+match[4],slashesCount=match[2].length):otherSlashes?(rest=match[3]+match[4],slashesCount=match[3].length):rest=match[4],"file:"===protocol?slashesCount>=2&&(rest=rest.slice(2)):isSpecial(protocol)?rest=match[4]:protocol?forwardSlashes&&(rest=rest.slice(2)):slashesCount>=2&&isSpecial(location.protocol)&&(rest=match[4]),{protocol,slashes:forwardSlashes||isSpecial(protocol),slashesCount,rest}}function Url(address,location,parser){if(address=(address=trimLeft(address)).replace(CRHTLF,""),!(this instanceof Url))return new Url(address,location,parser);var relative,extracted,parse,instruction,index,key,instructions=rules.slice(),type=typeof location,url=this,i=0;for("object"!==type&&"string"!==type&&(parser=location,location=null),parser&&"function"!=typeof parser&&(parser=qs.parse),relative=!(extracted=extractProtocol(address||"",location=lolcation(location))).protocol&&!extracted.slashes,url.slashes=extracted.slashes||relative&&location.slashes,url.protocol=extracted.protocol||location.protocol||"",address=extracted.rest,("file:"===extracted.protocol&&(2!==extracted.slashesCount||windowsDriveLetter.test(address))||!extracted.slashes&&(extracted.protocol||extracted.slashesCount<2||!isSpecial(url.protocol)))&&(instructions[3]=[/(.*)/,"pathname"]);i<instructions.length;i++)"function"!=typeof(instruction=instructions[i])?(parse=instruction[0],key=instruction[1],parse!=parse?url[key]=address:"string"==typeof parse?~(index="@"===parse?address.lastIndexOf(parse):address.indexOf(parse))&&("number"==typeof instruction[2]?(url[key]=address.slice(0,index),address=address.slice(index+instruction[2])):(url[key]=address.slice(index),address=address.slice(0,index))):(index=parse.exec(address))&&(url[key]=index[1],address=address.slice(0,index.index)),url[key]=url[key]||relative&&instruction[3]&&location[key]||"",instruction[4]&&(url[key]=url[key].toLowerCase())):address=instruction(address,url);parser&&(url.query=parser(url.query)),relative&&location.slashes&&"/"!==url.pathname.charAt(0)&&(""!==url.pathname||""!==location.pathname)&&(url.pathname=function resolve(relative,base){if(""===relative)return base;for(var path=(base||"/").split("/").slice(0,-1).concat(relative.split("/")),i=path.length,last=path[i-1],unshift=!1,up=0;i--;)"."===path[i]?path.splice(i,1):".."===path[i]?(path.splice(i,1),up++):up&&(0===i&&(unshift=!0),path.splice(i,1),up--);return unshift&&path.unshift(""),"."!==last&&".."!==last||path.push(""),path.join("/")}(url.pathname,location.pathname)),"/"!==url.pathname.charAt(0)&&isSpecial(url.protocol)&&(url.pathname="/"+url.pathname),required(url.port,url.protocol)||(url.host=url.hostname,url.port=""),url.username=url.password="",url.auth&&(~(index=url.auth.indexOf(":"))?(url.username=url.auth.slice(0,index),url.username=encodeURIComponent(decodeURIComponent(url.username)),url.password=url.auth.slice(index+1),url.password=encodeURIComponent(decodeURIComponent(url.password))):url.username=encodeURIComponent(decodeURIComponent(url.auth)),url.auth=url.password?url.username+":"+url.password:url.username),url.origin="file:"!==url.protocol&&isSpecial(url.protocol)&&url.host?url.protocol+"//"+url.host:"null",url.href=url.toString()}Url.prototype={set:function set(part,value,fn){var url=this;switch(part){case"query":"string"==typeof value&&value.length&&(value=(fn||qs.parse)(value)),url[part]=value;break;case"port":url[part]=value,required(value,url.protocol)?value&&(url.host=url.hostname+":"+value):(url.host=url.hostname,url[part]="");break;case"hostname":url[part]=value,url.port&&(value+=":"+url.port),url.host=value;break;case"host":url[part]=value,port.test(value)?(value=value.split(":"),url.port=value.pop(),url.hostname=value.join(":")):(url.hostname=value,url.port="");break;case"protocol":url.protocol=value.toLowerCase(),url.slashes=!fn;break;case"pathname":case"hash":if(value){var char="pathname"===part?"/":"#";url[part]=value.charAt(0)!==char?char+value:value}else url[part]=value;break;case"username":case"password":url[part]=encodeURIComponent(value);break;case"auth":var index=value.indexOf(":");~index?(url.username=value.slice(0,index),url.username=encodeURIComponent(decodeURIComponent(url.username)),url.password=value.slice(index+1),url.password=encodeURIComponent(decodeURIComponent(url.password))):url.username=encodeURIComponent(decodeURIComponent(value))}for(var i=0;i<rules.length;i++){var ins=rules[i];ins[4]&&(url[ins[1]]=url[ins[1]].toLowerCase())}return url.auth=url.password?url.username+":"+url.password:url.username,url.origin="file:"!==url.protocol&&isSpecial(url.protocol)&&url.host?url.protocol+"//"+url.host:"null",url.href=url.toString(),url},toString:function toString(stringify){stringify&&"function"==typeof stringify||(stringify=qs.stringify);var query,url=this,host=url.host,protocol=url.protocol;protocol&&":"!==protocol.charAt(protocol.length-1)&&(protocol+=":");var result=protocol+(url.protocol&&url.slashes||isSpecial(url.protocol)?"//":"");return url.username?(result+=url.username,url.password&&(result+=":"+url.password),result+="@"):url.password?(result+=":"+url.password,result+="@"):"file:"!==url.protocol&&isSpecial(url.protocol)&&!host&&"/"!==url.pathname&&(result+="@"),(":"===host[host.length-1]||port.test(url.hostname)&&!url.port)&&(host+=":"),result+=host+url.pathname,(query="object"==typeof url.query?stringify(url.query):url.query)&&(result+="?"!==query.charAt(0)?"?"+query:query),url.hash&&(result+=url.hash),result}},Url.extractProtocol=extractProtocol,Url.location=lolcation,Url.trimLeft=trimLeft,Url.qs=qs,module.exports=Url}}]);