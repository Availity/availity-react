"use strict";(self.webpackChunk_availity_availity_react=self.webpackChunk_availity_availity_react||[]).push([[4216],{"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}__webpack_require__.d(__webpack_exports__,{A:()=>_getPrototypeOf})},"./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}__webpack_require__.d(__webpack_exports__,{A:()=>_isNativeReflectConstruct})},"./node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var react__WEBPACK_IMPORTED_MODULE_0___namespace_cache;__webpack_require__.d(__webpack_exports__,{i:()=>useInsertionEffectWithLayoutFallback,s:()=>useInsertionEffectAlwaysWithSyncFallback});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useInsertionEffect=!!(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2))).useInsertionEffect&&(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2))).useInsertionEffect,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||function syncFallback(create){return create()},useInsertionEffectWithLayoutFallback=useInsertionEffect||react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect},"./packages/feedback/src/FeedbackForm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>src_FeedbackForm});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),ModalHeader=__webpack_require__("./node_modules/reactstrap/es/ModalHeader.js"),ModalBody=__webpack_require__("./node_modules/reactstrap/es/ModalBody.js"),FormGroup=__webpack_require__("./node_modules/reactstrap/es/FormGroup.js"),ModalFooter=__webpack_require__("./node_modules/reactstrap/es/ModalFooter.js"),Button=__webpack_require__("./node_modules/reactstrap/es/Button.js"),dist=__webpack_require__("./node_modules/@availity/api-axios/dist/index.mjs"),form_dist=__webpack_require__("./packages/form/dist/index.js"),select_dist=__webpack_require__("./packages/select/dist/index.js"),es=__webpack_require__("./node_modules/yup/es/index.js"),formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),icon_dist=__webpack_require__("./packages/icon/dist/index.js"),icon_dist_default=__webpack_require__.n(icon_dist),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const btnStyles={fontSize:"1.4em",padding:".2em .4em"},iconStyles={margin:"0px"},FeedbackButton=_ref=>{let{onClick,icon,active,children,iconSize="",...rest}=_ref;return(0,jsx_runtime.jsxs)(Button.A,{style:btnStyles,color:active===icon?"primary":"light","aria-pressed":active===icon,onClick:()=>{onClick(icon)},onKeyDown:_ref2=>{let{keyCode}=_ref2;return 13===keyCode&&onClick(icon)},...rest,children:[(0,jsx_runtime.jsx)(icon_dist_default(),{"data-testid":"feedback-icon",name:icon,size:iconSize,style:iconStyles}),(0,jsx_runtime.jsx)("span",{className:"sr-only",children})]})};FeedbackButton.displayName="FeedbackButton",FeedbackButton.propTypes={onClick:prop_types.PropTypes.func.isRequired,icon:prop_types.PropTypes.string,active:prop_types.PropTypes.string,children:prop_types.PropTypes.node,iconSize:prop_types.PropTypes.string};const src_FeedbackButton=FeedbackButton;FeedbackButton.__docgenInfo={description:"",methods:[],displayName:"FeedbackButton",props:{iconSize:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},onClick:{description:"",type:{name:"func"},required:!0},icon:{description:"",type:{name:"string"},required:!1},active:{description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"node"},required:!1}}};const SmileField_btnStyles={flex:1,margin:"0 2% 0 2%"},defaultOptions=[{icon:"smile",description:"Smiley face",label:"What do you like?"},{icon:"meh",description:"Meh face",label:"What would you improve?"},{icon:"frown",description:"Frowny face",label:"What don't you like?"}],SmileField=_ref=>{let{name,options=defaultOptions,onChange,autoFocusFeedbackButton=!0,onClose,modal}=_ref;const[{value}]=(0,formik_esm.useField)(name),{setFieldValue}=(0,formik_esm.useFormikContext)();return options.map(((option,i)=>(0,jsx_runtime.jsx)(src_FeedbackButton,{autoFocus:0===i&&autoFocusFeedbackButton,onKeyDown:e=>{e.shiftKey&&9===e.keyCode&&0===i&&!modal&&onClose(),13===e.keyCode&&(setFieldValue(name,option),onChange&&onChange(option))},style:SmileField_btnStyles,icon:option.icon,iconSize:"2x",value:option,active:value&&value.icon,onClick:()=>{setFieldValue(name,option),onChange&&onChange(option)},children:option.description},option.icon)))};SmileField.propTypes={name:prop_types_default().string.isRequired,options:prop_types_default().arrayOf(prop_types_default().shape({icon:prop_types_default().string,description:prop_types_default().string,label:prop_types_default().string})),onChange:prop_types_default().func,autoFocusFeedbackButton:prop_types_default().bool,modal:prop_types_default().bool};const src_SmileField=SmileField;es.Zg(es.Yj,"isRequired",(function format(isRequired,msg){return this.test({name:"dateRange",exclusive:!0,message:msg||"This field is required.",test:value=>!isRequired||void 0!==value})}));const fieldStyles={resize:"none"},inlineStyles={display:"inline-block",margin:0},FeedbackForm=_ref=>{let{name,onClose,faceOptions,aboutOptions=[],feedbackText=!0,aboutLabel="This is about",onFeedbackSent,prompt,additionalComments=!1,staticFields,analytics=dist.Wy,modalHeaderProps,showSupport=!1,setSupportIsActive,autoFocusFeedbackButton,modal=!0,...formProps}=_ref;const[active,setActive]=(0,react.useState)(null),[sent,setSent]=(0,react.useState)(null),[loading,setLoading]=(0,react.useState)(null),ref=(0,react.useRef)();return(0,react.useEffect)((()=>{sent&&setTimeout((()=>{if(onClose&&onClose(),onFeedbackSent){for(const key of Object.keys(sent))void 0===sent[key]&&delete sent[key];onFeedbackSent({active:active.icon,...sent})}}),2e3)}),[sent]),sent?(0,jsx_runtime.jsx)(ModalHeader.A,{role:"status",id:"feedback-form-header",tabIndex:"0",className:"d-flex justify-content-center",...modalHeaderProps,children:"Thank you for your feedback."}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ModalHeader.A,{id:"feedback-form-header",role:"heading","aria-level":"2",className:"h5",tag:"div",...modalHeaderProps,children:prompt||`Tell us what you think about ${name}`}),(0,jsx_runtime.jsxs)(form_dist.Form,{innerRef:ref,"aria-label":"Feedback Form","aria-describedby":"feedback-form-header",role:"form",onKeyDown:_ref3=>{let{key}=_ref3;return"Escape"===key&&onClose()},"data-testid":"feedback-form",initialValues:{"face-options":void 0,additionalFeedback:void 0,feedback:void 0,feedbackApp:void 0,smileField:void 0},validationSchema:es.Ik().shape({feedback:es.Yj().max(200,"Feedback cannot exceed 200 characters.").isRequired(feedbackText,"This field is required."),additionalFeedback:es.Yj().max(200,"Additional Feedback cannot exceed 200 characters."),smileField:es.Ik().shape({icon:es.Yj().required(),description:es.Yj(),label:es.Yj()}).required("This field is required."),feedbackApp:es.Yj().isRequired(aboutOptions.length>0,"This field is required.")}),...formProps,onSubmit:values=>(async _ref2=>{let{smileField,...values}=_ref2;setLoading(!0);const response=await dist.Nw.getCurrentRegion();await analytics.info({surveyId:`${name.replaceAll(/\s/g,"_")}_Smile_Survey`,smileLocation:`${name}`,smile:`icon-${smileField.icon}`,url:window.location.href,region:response.data.regions[0]&&response.data.regions[0].id,userAgent:window.navigator.userAgent,submitTime:new Date,...values,...staticFields}),setSent(values),setLoading(!1)})(values),children:[(0,jsx_runtime.jsxs)(ModalBody.A,{children:[(0,jsx_runtime.jsx)(FormGroup.A,{size:"lg",id:"face-options",role:"group","aria-labelledby":"feedback-form-header","data-testid":"face-options",className:"d-flex flex-row justify-content-between",children:(0,jsx_runtime.jsx)(src_SmileField,{options:faceOptions,name:"smileField",onChange:option=>setActive(option),onClose,autoFocusFeedbackButton,modal})}),active?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[aboutOptions.length>0&&(0,jsx_runtime.jsx)(select_dist.SelectField,{name:"feedbackApp",id:"about-options","data-testid":"about-options",label:aboutLabel,options:aboutOptions}),(0,jsx_runtime.jsx)(form_dist.Field,{type:"textarea",name:"feedback",label:active&&active.label||"Feedback? Requests? Defects?",style:fieldStyles,rows:"2"}),additionalComments&&(0,jsx_runtime.jsx)(form_dist.Field,{type:"textarea",name:"additionalFeedback",label:"Additional Comments... (Optional)",style:fieldStyles,rows:"2"})]}):null]}),(0,jsx_runtime.jsxs)(ModalFooter.A,{children:[showSupport?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("span",{className:"d-none d-md-block",style:inlineStyles,children:"Need Help?"}),(0,jsx_runtime.jsx)(Button.A,{className:"pl-0",onClick:()=>setSupportIsActive(!0),color:"link",type:"button",onKeyDown:_ref4=>{let{key}=_ref4;return"Enter"===key&&setSupportIsActive(!0)},children:"Open a support ticket"})]}):null,onClose?(0,jsx_runtime.jsx)(Button.A,{type:"button",onClick:onClose,color:"secondary",onKeyDown:_ref5=>{let{key,shiftKey}=_ref5;"Enter"===key&&onClose(),"Tab"!==key||active||shiftKey||modal||onClose()},children:"Close"}):null,(0,jsx_runtime.jsx)(Button.A,{onKeyDown:_ref6=>{let{key,shiftKey}=_ref6;"Enter"===key&&ref.current.submitForm(),"Tab"!==key||shiftKey||modal||onClose()},type:"submit",color:"primary",disabled:Boolean(!active||loading),children:"Send Feedback"})]})]})]})};FeedbackForm.propTypes={name:prop_types_default().string.isRequired,onFeedbackSent:prop_types_default().func,faceOptions:prop_types_default().arrayOf(prop_types_default().shape({icon:prop_types_default().string,description:prop_types_default().string,label:prop_types_default().string})),aboutOptions:prop_types_default().arrayOf(prop_types_default().shape({name:prop_types_default().string,value:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number])})),feedbackText:prop_types_default().bool,aboutLabel:prop_types_default().node,onClose:prop_types_default().func,prompt:prop_types_default().string,additionalComments:prop_types_default().bool,staticFields:prop_types_default().object,modalHeaderProps:prop_types_default().shape({...ModalHeader.A.propTypes}),analytics:prop_types_default().shape({info:prop_types_default().func.isRequired}),showSupport:prop_types_default().bool,setSupportIsActive:prop_types_default().func,autoFocusFeedbackButton:prop_types_default().bool,modal:prop_types_default().bool};const src_FeedbackForm=FeedbackForm;FeedbackForm.__docgenInfo={description:"",methods:[],displayName:"FeedbackForm",props:{aboutOptions:{defaultValue:{value:"[]",computed:!1},description:"Array of Objects containing value (String,Number) and label (String) properties.\nAllows a dropdown displaying the options provided to let the user indicate what the feedback is about.",type:{name:"arrayOf",value:{name:"shape",value:{name:{name:"string",required:!1},value:{name:"union",value:[{name:"string"},{name:"number"}],required:!1}}}},required:!1},feedbackText:{defaultValue:{value:"true",computed:!1},description:"If false, then feedback text area is made optional",type:{name:"bool"},required:!1},aboutLabel:{defaultValue:{value:"'This is about'",computed:!1},description:'Label text for the dropdown created via the aboutOptions prop. Default: "This is about".\nPreviously aboutPlaceholder. All placeholders replaced with labels starting v6.0.0.',type:{name:"node"},required:!1},additionalComments:{defaultValue:{value:"false",computed:!1},description:"If true, shows an optional comments field below.",type:{name:"bool"},required:!1},analytics:{defaultValue:{value:"avLogMessagesApiV2",computed:!0},description:"Override the analytics instance that is passed in. Default avLogMessagesApiV2",type:{name:"shape",value:{info:{name:"func",required:!0}}},required:!1},showSupport:{defaultValue:{value:"false",computed:!1},description:'Toggle whether or not to show the "Open a Support ticket" link in the FeedbackForm',type:{name:"bool"},required:!1},modal:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},name:{description:"The name of the application this feedback is for. It is used in the API request to indicate where the feedback came from.",type:{name:"string"},required:!0},onFeedbackSent:{description:"Callback for when the feedback is submitted. It is called with the feedback object.",type:{name:"func"},required:!1},faceOptions:{description:"Array of Objects containing icon (String), description (String), and label (String) properties.\nAllows you to override the smiley face options which appear.\nDefault: Smiley Face, Meh Face, and Frowny Face.\nPrevious placeholder property removed as of v6.0.0. Use label instead.",type:{name:"arrayOf",value:{name:"shape",value:{icon:{name:"string",required:!1},description:{name:"string",required:!1},label:{name:"string",required:!1}}}},required:!1},onClose:{description:'When provided, a "Close" button is rendered and onClose is excuted when it\'s clicked.',type:{name:"func"},required:!1},prompt:{description:'Text that prompts the user to provider feedback. Default: "Tell us what you think about ${appName}.".',type:{name:"string"},required:!1},staticFields:{description:"Static (non-user-entered) key/value pairs to be sent in feedback submission.",type:{name:"object"},required:!1},modalHeaderProps:{description:"Props to be spread onto the <ModalHeader /> rendered inside of the <FeedbackForm />. See ModalHeader\nFor accessibility use className instead of tag to adjust size and style of header.",type:{name:"shape",value:{}},required:!1},setSupportIsActive:{description:"",type:{name:"func"},required:!1},autoFocusFeedbackButton:{description:"Default: true. When set to false, the first feedback button is not focused.\nThis is to avoid issues with focus causing other elements to close (e.g. dropdowns)",type:{name:"bool"},required:!1}}}},"./packages/feedback/stories/FeedbackWithForm.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_WithForm:()=>_WithForm,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _src_FeedbackForm__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/feedback/src/FeedbackForm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Bootstrap Components/Feedback/FeedbackWithForm",component:_src_FeedbackForm__WEBPACK_IMPORTED_MODULE_1__.A},_WithForm={render:_ref=>{let{appName,autoFocusFeedbackButton,prompt,faceOptions}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_FeedbackForm__WEBPACK_IMPORTED_MODULE_1__.A,{name:appName,prompt,autoFocusFeedbackButton,faceOptions})},args:{appName:"Payer Space",prompt:"",autoFocusFeedbackButton:!1,faceOptions:[{icon:"ok",description:"Yes",placeholder:"Leave a comment if you'd like."},{icon:"cancel",description:"No",placeholder:"Leave a comment if you'd like."}]},name:"with form"};_WithForm.parameters={..._WithForm.parameters,docs:{..._WithForm.parameters?.docs,source:{originalSource:"{\n  render: ({\n    appName,\n    autoFocusFeedbackButton,\n    prompt,\n    faceOptions\n  }) => <FeedbackForm name={appName} prompt={prompt} autoFocusFeedbackButton={autoFocusFeedbackButton} faceOptions={faceOptions} />,\n  args: {\n    appName: 'Payer Space',\n    prompt: '',\n    autoFocusFeedbackButton: false,\n    faceOptions: [{\n      icon: 'ok',\n      description: 'Yes',\n      placeholder: `Leave a comment if you'd like.`\n    }, {\n      icon: 'cancel',\n      description: 'No',\n      placeholder: `Leave a comment if you'd like.`\n    }]\n  },\n  name: 'with form'\n}",..._WithForm.parameters?.docs?.source}}};const __namedExportsOrder=["_WithForm"]}}]);