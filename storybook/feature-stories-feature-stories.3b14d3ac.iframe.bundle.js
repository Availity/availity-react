"use strict";(self.webpackChunk_availity_availity_react=self.webpackChunk_availity_availity_react||[]).push([[6790],{"./node_modules/@availity/message-core/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>index_default});var _lastId,__defProp=Object.defineProperty,__typeError=msg=>{throw TypeError(msg)},__publicField=(obj,key,value)=>((obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value)(obj,"symbol"!=typeof key?key+"":key,value),__accessCheck=(obj,member,msg)=>member.has(obj)||__typeError("Cannot "+msg),__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj));_lastId=new WeakMap;var index_default=new class{constructor(){var obj,member,value;__publicField(this,"subscribers",{}),__publicField(this,"getEventData",(event=>{const isSameWindow=event.source===window;if(!(this.isEnabled&&event&&event.data&&event.origin&&event.source&&this.isDomain(event.origin)))return;let{data}=event;if("string"==typeof data)try{data=JSON.parse(data)}catch(e){}"string"==typeof data?(event=data,data=void 0):event=data&&data.event||this.DEFAULT_EVENT;const metadata={isSameWindow};this.onMessage(event,data,metadata)})),obj=this,value=0,(member=_lastId).has(obj)?__typeError("Cannot add the same private member more than once"):member instanceof WeakSet?member.add(obj):member.set(obj,value),this.isEnabled=!0,this.DEFAULT_EVENT="avMessage",this.DOMAIN=/https?:\/\/([\w-]+\.)?availity\.(com|net)/,window.addEventListener("message",this.getEventData)}enabled(value){return arguments.length>0&&(this.isEnabled=!!value),this.isEnabled}subscribe(event,callback,options){var _a,obj,member,value,setter;this.subscribers[event]||(this.subscribers[event]=[]),obj=this,member=_lastId,value=__privateGet(this,_lastId)+1,__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value);const id=__privateGet(this,_lastId),ignoreSameWindow=null==(_a=null==options?void 0:options.ignoreSameWindow)||_a,subscriber={id,callback,options:{ignoreSameWindow}};return this.subscribers[event].push(subscriber),()=>{this.subscribers[event]=this.subscribers[event].filter((subscriber2=>subscriber2.id!==id))}}unsubscribe(event){delete this.subscribers[event]}unsubscribeAll(){this.subscribers={}}onMessage(event,data,metadata){const{isSameWindow}=metadata;if(this.subscribers[event])for(const subscriber of this.subscribers[event]){const{ignoreSameWindow}=subscriber.options;isSameWindow&&ignoreSameWindow||subscriber.callback(data)}}isDomain(url){return!this.DOMAIN.test(this.domain())||this.DOMAIN.test(url)}getOriginFromTop(){try{return window.top.location.origin}catch(e){return null}}swapDomain(url){return url.includes("essentials")?url.replace("essentials","apps"):url.replace("apps","essentials")}domain(){const topOrigin=this.getOriginFromTop();if(topOrigin)return topOrigin;if(window.location.origin){const url=window.location.origin;return this.swapDomain(url)}if(window.location.hostname){const url=`${window.location.protocol}//${window.location.hostname}${window.location.port?`:${window.location.port}`:""}`;return this.swapDomain(url)}return"*"}send(payload,target=window.top){if(this.isEnabled&&payload)try{const message="string"==typeof payload?payload:JSON.stringify(payload);target.postMessage(message,this.domain())}catch(error){console.warn("AvMessage.send()",error)}}}},"./packages/block-ui/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var mod,__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,index_exports={};((target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})})(index_exports,{default:()=>BlockUi_default}),module.exports=(mod=index_exports,((to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to})(__defProp({},"__esModule",{value:!0}),mod));var import_react=__webpack_require__("./node_modules/react/index.js"),import_jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Bullet(){return(0,import_jsx_runtime.jsx)("span",{className:"loading-bullet",children:"â€¢"})}var Loader_default=function Loader(){return(0,import_jsx_runtime.jsxs)("div",{className:"loading-indicator",children:[(0,import_jsx_runtime.jsx)(Bullet,{}),(0,import_jsx_runtime.jsx)(Bullet,{}),(0,import_jsx_runtime.jsx)(Bullet,{})]})},import_jsx_runtime2=__webpack_require__("./node_modules/react/jsx-runtime.js");var BlockUi_default=function BlockUi(_a){var _b=_a,{blocking,children,className="",keepInView,loader=(0,import_jsx_runtime2.jsx)(Loader_default,{}),message,renderChildren=!0,tag:Tag="div"}=_b,rest=((source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(null!=source&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target})(_b,["blocking","children","className","keepInView","loader","message","renderChildren","tag"]);const[top,setTop]=(0,import_react.useState)("50%"),blockerRef=(0,import_react.useRef)(null),topFocusRef=(0,import_react.useRef)(null),containerRef=(0,import_react.useRef)(null),messageContainerRef=(0,import_react.useRef)(null),handleKeepInView=(0,import_react.useCallback)((()=>{if(blocking&&keepInView&&containerRef.current){const containerBounds=containerRef.current.getBoundingClientRect(),windowHeight=window.innerHeight;if(containerBounds.top>windowHeight||containerBounds.bottom<0)return;if(containerBounds.top>=0&&containerBounds.bottom<=windowHeight)return void("50%"!==top&&setTop("50%"));const messageBoundsHeight=messageContainerRef.current?messageContainerRef.current.getBoundingClientRect().height:0;let newTop=Math.max(Math.min(windowHeight,containerBounds.bottom)-Math.max(containerBounds.top,0),messageBoundsHeight)/2;containerBounds.top<0&&(newTop=Math.min(newTop-containerBounds.top,containerBounds.height-messageBoundsHeight/2)),top!==newTop&&setTop(newTop)}}),[blocking,keepInView,top]);(0,import_react.useEffect)((()=>(window.addEventListener("scroll",handleKeepInView),()=>{window.removeEventListener("scroll",handleKeepInView)})),[handleKeepInView]);const blockingTab=function(event){let withShift=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{key,shiftKey}=event;return blocking&&"Tab"===key&&shiftKey===withShift},shouldRenderChildren=!blocking||renderChildren;return(0,import_jsx_runtime2.jsxs)(Tag,(a=((a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a})({className:blocking?`block-ui ${className}`:className,"aria-busy":blocking},rest),b={children:[blocking?(0,import_jsx_runtime2.jsx)("div",{tabIndex:0,onKeyUp:event=>{blockerRef.current&&blockingTab(event)&&blockerRef.current.focus()},onKeyDown:event=>{blockerRef.current&&blockingTab(event)&&(event.preventDefault(),blockerRef.current.focus())},ref:topFocusRef,className:"sr-only",children:message||"loading"}):null,shouldRenderChildren?children:null,blocking?(0,import_jsx_runtime2.jsxs)("div",{className:"block-ui-container",tabIndex:0,ref:blockerRef,onKeyUp:event=>{topFocusRef.current&&blockingTab(event,!0)&&topFocusRef.current.focus()},onKeyDown:event=>{topFocusRef.current&&blockingTab(event,!0)&&(event.preventDefault(),topFocusRef.current.focus())},children:[(0,import_jsx_runtime2.jsx)("div",{className:"block-ui-overlay",ref:containerRef}),(0,import_jsx_runtime2.jsx)("div",{className:"block-ui-message-container",ref:messageContainerRef,style:{top:keepInView?top:void 0},children:(0,import_jsx_runtime2.jsxs)("div",{className:"block-ui-message",children:[message||(0,import_jsx_runtime2.jsx)("div",{className:"sr-only",children:"loading"}),(0,import_react.isValidElement)(loader)?(0,import_jsx_runtime2.jsx)("div",{"aria-hidden":!0,children:loader}):null]})})]}):null]},__defProps(a,__getOwnPropDescs(b))));var a,b}},"./packages/feature/stories/feature.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_Default:()=>_Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>feature_stories});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),dist=__webpack_require__("./packages/block-ui/dist/index.js"),dist_default=__webpack_require__.n(dist),hooks=__webpack_require__("./packages/hooks/index.js"),axios=__webpack_require__("./node_modules/axios/lib/axios.js");let featureCache;const src_isFeatureEnabled=async function isFeatureEnabled(features){let envFeatures;featureCache=featureCache||axios.A.get("features.json");try{envFeatures=(await featureCache).data||[]}catch{return!0}return!envFeatures||!envFeatures.length||(Array.isArray(features)?features:[features]).some((featureSet=>Array.isArray(featureSet)?featureSet.every((feature=>-1===envFeatures.indexOf(feature))):-1===envFeatures.indexOf(featureSet)))};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Feature=_ref=>{let{features,loader,whenDisabled,children,negate}=_ref;const[loading,setLoading]=(0,react.useState)(!1),[enabled,setEnabled]=(0,react.useState)(null);if((0,hooks.FP)((async()=>{loading||setLoading(!0);const _enabled=await src_isFeatureEnabled(features);setEnabled(_enabled),setLoading(!1)}),[features]),loading)return loader?!0===loader?(0,jsx_runtime.jsx)(dist_default(),{blocking:!0}):loader:null;return enabled^negate?children:whenDisabled};Feature.propTypes={features:prop_types_default().oneOfType([prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().arrayOf(prop_types_default().string),prop_types_default().string])),prop_types_default().string]).isRequired,loader:prop_types_default().oneOfType([prop_types_default().bool,prop_types_default().node]),whenDisabled:prop_types_default().node,children:prop_types_default().node,negate:prop_types_default().bool},Feature.defaultProps={whenDisabled:null,children:null};const src_Feature=Feature;Feature.__docgenInfo={description:"",methods:[],displayName:"Feature",props:{whenDisabled:{defaultValue:{value:"null",computed:!1},description:"The content that renders when the features are disabled.",type:{name:"node"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"The content that renders when the features are enabled.",type:{name:"node"},required:!1},features:{description:"Can either be a string, eg: \"AV-1234\" or an array containing feature ID strings as well as other arrays which contain feature ID strings,\neg: ['AV-1234', 'AV-2345', ['AV-3456', 'AV-4567'], ['AV-5678', 'AV-6789']].\nThe items in a nested array indicate feature IDs that must all be enabled for a feature to be considered enabled (see children) - they act as \"AND\".\nThe items in the top of the array act as \"OR\" - if any are enabled, the feature is considered enabled.\nThe example ['AV-1234', 'AV-2345', ['AV-3456', 'AV-4567'], ['AV-5678', 'AV-6789']] is similar to 'AV-1234' OR 'AV-2345' OR ('AV-3456' && 'AV-4567') OR ('AV-5678' && 'AV-6789').",type:{name:"union",value:[{name:"arrayOf",value:{name:"union",value:[{name:"arrayOf",value:{name:"string"}},{name:"string"}]}},{name:"string"}]},required:!0},loader:{description:"When true, BlockUi is used when loading the features.\nWhen a node, that node is rendered instead of BlockUi when loading the features.\nWhen false, nothing is rendered when loading the features. Default: true.",type:{name:"union",value:[{name:"bool"},{name:"node"}]},required:!1},negate:{description:"Negate the feature. If the feature specified is enabled, it acts as if it were disabled (by rendering the whenDisabled prop content).\nIf the feature specified is disabled, it acts as if it were enabled (by rendering the children prop content).",type:{name:"bool"},required:!1}}};const feature_stories={title:"Bootstrap Components/Feature",parameters:{docs:{description:{component:"Check environment features for the current environment to determine if a particular feature is enabled."}}},component:src_Feature},_Default={render:_ref=>{let{features,negate,loader,whenDisabled,children}=_ref;return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("p",{children:["For this demo, the following features are ",(0,jsx_runtime.jsx)("b",{children:"disabled"}),": AV-1234, AV-2345, AV-3456, AV-4567, AV-5678, AV-6789 (",(0,jsx_runtime.jsx)("b",{children:"All other features are enabled"}),"). You can use the knobs to see what the component will do when you set the features to various things."]}),(0,jsx_runtime.jsx)("hr",{}),(0,jsx_runtime.jsx)(src_Feature,{features,negate,loader,whenDisabled,children})]})},args:{features:["AV-1234"],negate:!1,loader:!0,whenDisabled:"This feature is disabled",children:"This is the cool new feature. Lucky you, you get to see it."}};_Default.parameters={..._Default.parameters,docs:{..._Default.parameters?.docs,source:{originalSource:"{\n  render: ({\n    features,\n    negate,\n    loader,\n    whenDisabled,\n    children\n  }) => <div>\n      <p>\n        For this demo, the following features are <b>disabled</b>: AV-1234, AV-2345, AV-3456, AV-4567, AV-5678, AV-6789\n        (<b>All other features are enabled</b>). You can use the knobs to see what the component will do when you set\n        the features to various things.\n      </p>\n      <hr />\n      <Feature features={features} negate={negate} loader={loader} whenDisabled={whenDisabled}>\n        {children}\n      </Feature>\n    </div>,\n  args: {\n    features: ['AV-1234'],\n    negate: false,\n    loader: true,\n    whenDisabled: 'This feature is disabled',\n    children: 'This is the cool new feature. Lucky you, you get to see it.'\n  }\n}",..._Default.parameters?.docs?.source}}};const __namedExportsOrder=["_Default"]},"./packages/hooks/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{xM:()=>useCurrentRegion,iZ:()=>useCurrentUser,FP:()=>useEffectAsync,JO:()=>useMount,Gi:()=>useOrganization,Sk:()=>usePermissions,u9:()=>useProviders,Z3:()=>useTimeout,eY:()=>useToggle,vh:()=>src_useWindowDimensions});var react=__webpack_require__("./node_modules/react/index.js");function useEffectAsync(effect,inputs){(0,react.useEffect)((()=>{effect()}),inputs)}function useMount(effect){(0,react.useEffect)(effect,[])}function useTimeout(){let ms=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const[ready,setReady]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{let unmounted=!1;const timer=setTimeout((()=>{unmounted||setReady(!0)}),ms);return()=>{unmounted=!0,clearTimeout(timer)}}),[ms]),ready}function useToggle(){let initialState=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[state,setState]=(0,react.useState)(initialState);return[state,newState=>{void 0!==newState&&newState!==state?setState(newState):void 0===newState&&setState(!state)}]}var useQuery=__webpack_require__("./node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),dist=__webpack_require__("./node_modules/@availity/api-axios/dist/index.mjs");async function fetchRegion(){const response=await dist.Nw.getCurrentRegion();return{code:response?.data?.regions?.[0]?.id||"",value:response?.data?.regions?.[0]?.value||""}}function useCurrentRegion(options){return(0,useQuery.I)(["region"],fetchRegion,options)}const fetchUser=async()=>dist.XG.me();function useCurrentUser(options){return(0,useQuery.I)(["user"],fetchUser,options)}const fetchProviders=async config=>dist.Ml.getProviders(config.customerId,config);function useProviders(config,options){return(0,useQuery.I)(["providers",config],(()=>fetchProviders(config)),options)}const fetchPermissions=async config=>dist.Kl.getPermissions(config);function usePermissions(config,options){return(0,useQuery.I)(["permissions",config],(()=>fetchPermissions(config)),options)}const fetchOrganization=async config=>dist.US.getOrganizations(config);function useOrganization(config,options){return(0,useQuery.I)(["organizations",config],(()=>fetchOrganization(config)),options)}__webpack_require__("./node_modules/@availity/message-core/dist/index.mjs");const getWindowDimensions=()=>{const{innerWidth:width,innerHeight:height}=window;return{width,height}},src_useWindowDimensions=()=>{const[windowDimensions,setWindowDimensions]=(0,react.useState)(getWindowDimensions());return(0,react.useEffect)((()=>{const handleResize=()=>{setWindowDimensions(getWindowDimensions())};return window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize)}),[]),windowDimensions}}}]);