"use strict";(self.webpackChunk_availity_dinosaurdocs=self.webpackChunk_availity_dinosaurdocs||[]).push([[8843],{968:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"bootstrap-components/authorize/useAuthorize","title":"useAuthorize","description":"The useAuthorize hook accepts a list of permissions, with optional parameters, and will return whether the user is authorized or not.","source":"@site/docs/bootstrap-components/authorize/useAuthorize.mdx","sourceDirName":"bootstrap-components/authorize","slug":"/bootstrap-components/authorize/useAuthorize","permalink":"/availity-react/bootstrap-components/authorize/useAuthorize","draft":false,"unlisted":false,"editUrl":"https://github.com/availity/availity-react/edit/master/docusaurus/docs/bootstrap-components/authorize/useAuthorize.mdx","tags":[],"version":"current","frontMatter":{"title":"useAuthorize"},"sidebar":"someSidebar","previous":{"title":"Authorize","permalink":"/availity-react/bootstrap-components/authorize/authorize"},"next":{"title":"Avatar","permalink":"/availity-react/bootstrap-components/avatar"}}');var s=r(4848),i=r(8453);const o={title:"useAuthorize"},a=void 0,c={},h=[{value:"Args",id:"args",level:2},{value:"Return Object",id:"return-object",level:2},{value:"Example",id:"example",level:2},{value:"Storybook",id:"storybook",level:2}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"useAuthorize"})," hook accepts a list of permissions, with optional parameters, and will return whether the user is authorized or not."]}),"\n",(0,s.jsxs)(t.p,{children:["This package uses ",(0,s.jsx)(t.a,{href:"https://react-query.tanstack.com/",children:"react-query"})," to handle data fetching. This means you must add a ",(0,s.jsx)(t.a,{href:"https://react-query.tanstack.com/reference/QueryClientProvider#_top",children:"QueryClientProvider"})," to your app if you do not already have one. The default setup should cover most use-cases. However, there are 2 options we recommend looking into in order to determine what is correct for your app. These settings are ",(0,s.jsx)(t.code,{children:"refetchOnWindowFocus"})," and ",(0,s.jsx)(t.code,{children:"staleTime"}),". The first option sets whether the to refetch the query when the window is focused, and the other is the default marker for how long the query is valid."]}),"\n",(0,s.jsx)(t.h2,{id:"args",children:"Args"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"permissions"})}),": (string | string[])[]. Required.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"string"}),": The permission ID, eg: ",(0,s.jsx)(t.code,{children:"'1234'"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"array"}),": The array can contain Permission ID's as well as other arrays which contain Permission ID's eg: ",(0,s.jsx)(t.code,{children:"['1234', '2345', ['3456', '4567'], ['5678', '6789']]"}),". The items in a nested array indicate Permission ID's that must ",(0,s.jsx)(t.em,{children:"all"})," be granted to the user to be considered authorized - they act as an ",(0,s.jsx)(t.code,{children:'"AND"'}),". The items in the top of the array act as an ",(0,s.jsx)(t.code,{children:'"OR"'})," - if ",(0,s.jsx)(t.em,{children:"any"})," are granted to the user, the user is considered authorized. For example, ",(0,s.jsx)(t.code,{children:"['1234', '2345', ['3456', '4567'], ['5678', '6789']]"})," is equivalent to ",(0,s.jsx)(t.code,{children:"'1234' || '2345' || ('3456' && '4567') || ('5678' && '6789')"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"options"})})," Object. Optional. Additional options","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"organizationId"})}),": String. Optional. When present, the permission is validated to ensure it is assigned to the organization."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"customerId"})}),": String. Optional. When present, the permission is validated to ensure it is assigned to the customer."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"region"})}),": String or Boolean. Optional. Default: ",(0,s.jsx)(t.code,{children:"true"}),". When a string, the permission is validated to ensure it is assigned in the provided region. When true, the permission is validated to ensure it is assigned in the current region."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"resources"})}),": (string | string[])[]. Optional.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"string"}),": The Resource ID, eg: ",(0,s.jsx)(t.code,{children:"'12345'"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"array"}),": The array can contain Resource ID's as well as other arrays which contain Resource ID's eg: ",(0,s.jsx)(t.code,{children:"['12345', '23456', ['34567', '45678'], ['56789', '67890']]"}),". The items in a nested array indicate the Resource ID's that must ",(0,s.jsx)(t.em,{children:"all"})," be granted to the user to be considered authorized - they act as an ",(0,s.jsx)(t.code,{children:'"AND"'}),". The items in the top of the array act as an ",(0,s.jsx)(t.code,{children:'"OR"'})," - if ",(0,s.jsx)(t.em,{children:"any"})," are granted to the user, the user is considered authorized. For example, ",(0,s.jsx)(t.code,{children:"['12345', '23456', ['34567', '45678'], ['56789', '67890']]"})," is equivalent to ",(0,s.jsx)(t.code,{children:"'12345' || '23456' || ('34567' && '45678') || ('56789' && '67890')"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"return-object",children:"Return Object"}),"\n",(0,s.jsx)(t.p,{children:"An object with two properties is returned from the call"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"type ReturnObject = {\n  /* Result of permission check */\n  authorized: boolean;\n  /* State of the api call */\n  isLoading: boolean;\n};\n"})}),"\n",(0,s.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:"import React from 'react';\nimport { useAuthorize } from '@availity/authorize';\n\nconst Component = () => {\n  const { authorized, isLoading } = useAuthorize(['1234', '5678'], {\n    region: 'FL',\n  });\n\n  return authorized && <SomeAuthorizedComponent />;\n};\n"})}),"\n",(0,s.jsx)(t.h2,{id:"storybook",children:"Storybook"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://availity.github.io/availity-react/storybook/?path=/docs/bootstrap-components-authorize-useauthorize--docs",children:"Live Example"})})]})}function l(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>a});var n=r(6540);const s={},i=n.createContext(s);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);